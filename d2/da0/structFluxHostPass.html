<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSU | Pearl Lab | PPT-GPU: FluxHostPass Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSU | Pearl Lab | PPT-GPU
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">PPT-GPU is a scalable and flexible framework to predict the performance of GPUs running general purpose workloads. PPT-GPU can use the virtual (PTX) or the native (SASS) ISAs without sacrificing accuracy, ease of use, or portability. The tool is currently focused on NVIDIA GPUs. We plan to extend our approach to model other vendors&#39; GPUs such as AMD and Intel.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="../../d5/dbc/structFluxHostPass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FluxHostPass Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>HostBlockProfilerPass Provides setup for DeviceBlockProfilerPass in host code.  
 <a href="../../d2/da0/structFluxHostPass.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="../../HTML/S/20.html">cudaFluxPasses.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for FluxHostPass:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d21/structFluxHostPass__inherit__graph.svg" width="192" height="123"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for FluxHostPass:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d1c/structFluxHostPass__coll__graph.svg" width="192" height="123"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f45764bde32acf0264d475b35cd85b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da0/structFluxHostPass.html#a6f45764bde32acf0264d475b35cd85b3">FluxHostPass</a> ()</td></tr>
<tr class="separator:a6f45764bde32acf0264d475b35cd85b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca382bcf6a274d6a7c08ea5dffb17d1b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da0/structFluxHostPass.html#aca382bcf6a274d6a7c08ea5dffb17d1b">runOnModule</a> (llvm::Module &amp;M) override</td></tr>
<tr class="separator:aca382bcf6a274d6a7c08ea5dffb17d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3519b90c679c1d73214d3c48563622f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da0/structFluxHostPass.html#ad3519b90c679c1d73214d3c48563622f">getAnalysisUsage</a> (llvm::AnalysisUsage &amp;AU) const override</td></tr>
<tr class="separator:ad3519b90c679c1d73214d3c48563622f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f28f86f9cac8c00b5be36d277ed47f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da0/structFluxHostPass.html#a4f28f86f9cac8c00b5be36d277ed47f1">releaseMemory</a> () override</td></tr>
<tr class="separator:a4f28f86f9cac8c00b5be36d277ed47f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad38dde0baa302788da3cca63cb209cc0"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da0/structFluxHostPass.html#ad38dde0baa302788da3cca63cb209cc0">ID</a> = 0</td></tr>
<tr class="separator:ad38dde0baa302788da3cca63cb209cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>HostBlockProfilerPass Provides setup for DeviceBlockProfilerPass in host code. </p>

<p class="definition">Definition at line <a class="el" href="../../HTML/S/20.html#L30">30</a> of file <a class="el" href="../../HTML/S/20.html">cudaFluxPasses.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6f45764bde32acf0264d475b35cd85b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f45764bde32acf0264d475b35cd85b3">&#9670;&nbsp;</a></span>FluxHostPass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FluxHostPass::FluxHostPass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../HTML/S/20.html#L33">33</a> of file <a class="el" href="../../HTML/S/20.html">cudaFluxPasses.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;: llvm::ModulePass(<a class="code" href="../../d2/da0/structFluxHostPass.html#ad38dde0baa302788da3cca63cb209cc0">ID</a>) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad3519b90c679c1d73214d3c48563622f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3519b90c679c1d73214d3c48563622f">&#9670;&nbsp;</a></span>getAnalysisUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FluxHostPass::getAnalysisUsage </td>
          <td>(</td>
          <td class="paramtype">llvm::AnalysisUsage &amp;&#160;</td>
          <td class="paramname"><em>AU</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../HTML/S/24.html#L239">239</a> of file <a class="el" href="../../HTML/S/24.html">fluxHostPass.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{ AU.setPreservesAll(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f28f86f9cac8c00b5be36d277ed47f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f28f86f9cac8c00b5be36d277ed47f1">&#9670;&nbsp;</a></span>releaseMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FluxHostPass::releaseMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../HTML/S/24.html#L241">241</a> of file <a class="el" href="../../HTML/S/24.html">fluxHostPass.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca382bcf6a274d6a7c08ea5dffb17d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca382bcf6a274d6a7c08ea5dffb17d1b">&#9670;&nbsp;</a></span>runOnModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FluxHostPass::runOnModule </td>
          <td>(</td>
          <td class="paramtype">llvm::Module &amp;&#160;</td>
          <td class="paramname"><em>M</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../HTML/S/24.html#L22">22</a> of file <a class="el" href="../../HTML/S/24.html">fluxHostPass.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                            {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="keywordflow">if</span> (M.getTargetTriple().find(<span class="stringliteral">&quot;x86_64&quot;</span>) == std::string::npos)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  LLVMContext &amp;ctx = M.getContext();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  errs() &lt;&lt; <span class="stringliteral">&quot;CUDA Flux: instrumenting host code...\n&quot;</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  errs() &lt;&lt; <span class="stringliteral">&quot;CUDA Flux: CUDA Version &quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  errs() &lt;&lt; M.getSDKVersion().getMajor() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; M.getSDKVersion().getMinor().getValue() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// Link Device Runtime //</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">// Load Memory Buffer from Headerfile</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  std::string hostRuntimeNull((<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="../../dd/dda/hostRuntime_8h.html#a10ebe23f59e1e57e28be270b493825f9">hostRuntime_ll</a>, <a class="code" href="../../dd/dda/hostRuntime_8h.html#a7a4d19fc3fc17e12d79c0075feb4f1df">hostRuntime_ll_len</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// Add nulltermination</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  hostRuntimeNull.append(<span class="stringliteral">&quot;\0&quot;</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  StringRef hostRuntime(hostRuntimeNull.c_str(), hostRuntimeNull.size());</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// Link against current module</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="../../d3/dcd/namespacemekong.html#afa5bc629abb1ec6f490e28d93480e67b">mekong::linkIR</a>(hostRuntime, M);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">// Read BlockAnalysis</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  std::string prefix = <a class="code" href="../../d3/dcd/namespacemekong.html#a4d2a109ee246b5b72d6f02bd022443d0">mekong::getModulePrefix</a>(&amp;M);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  std::string deviceInfoFile = prefix + <span class="stringliteral">&quot;.out&quot;</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  std::ifstream file(deviceInfoFile, std::ios::binary | std::ios::ate);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">auto</span> size = file.tellg();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// TODO Fail earlier</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (size &lt; 0) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    errs() &lt;&lt; <span class="stringliteral">&quot;Could not read Device Analysis Info. Assume Hostcode Only. &quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;              <span class="stringliteral">&quot;Terminating...\n&quot;</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  file.seekg(0, std::ios::beg);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  std::string buffer(size, <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  assert(file.read(&amp;buffer[0], size));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  std::vector&lt;std::string&gt; <a class="code" href="../../d1/d9d/process__args_8c.html#ae32f25e0cc989902aa289324c41f078c">lines</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordtype">size_t</span> pos = 0;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordtype">size_t</span> pos_end = std::string::npos;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  std::string token;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">while</span> ((pos_end = buffer.find(<span class="stringliteral">&quot;\n&quot;</span>, pos)) != std::string::npos) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../d1/d9d/process__args_8c.html#ae32f25e0cc989902aa289324c41f078c">lines</a>.push_back(buffer.substr(pos, pos_end - pos));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    pos = pos_end + 1;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// kernel -&gt; BasicBlockCount</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  std::map&lt;std::string, int&gt; kernelBlockMap;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  std::string kernelName = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">int</span> blockCount = -1;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d1/d9d/process__args_8c.html#ae32f25e0cc989902aa289324c41f078c">lines</a>.size(); ++i) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">auto</span> line = <a class="code" href="../../d1/d9d/process__args_8c.html#ae32f25e0cc989902aa289324c41f078c">lines</a>[i];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// If new item in yaml list reset</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      kernelName = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      blockCount = -1;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// If blockcount found, parse and store it</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">size_t</span> pos = line.find(<span class="stringliteral">&quot;BlockCount&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (pos != std::string::npos) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keyword">auto</span> count = line.substr(pos + 11); <span class="comment">// BlockCount: has 11 characters</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      blockCount = std::stoi(count);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// If name found, also store it</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    pos = line.find(<span class="stringliteral">&quot;Name&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (pos != std::string::npos) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      kernelName = line.substr(pos + 6); <span class="comment">// &#39;Name: &#39; has 6 characters</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// If name and blockcount have been found a valid entry can be added to the</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// map, reset afterwards</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (kernelName != <span class="stringliteral">&quot;&quot;</span> and blockCount != -1) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      kernelBlockMap[kernelName] = blockCount;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      kernelName = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      blockCount = -1;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// Insert Global String Containing the BasicBlock Analysis</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Create Another Global Variable indicating if the ptx analysis was already</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// written to disk</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  IRBuilder&lt;&gt; builder(ctx);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  Value *analysisStr = <a class="code" href="../../d3/dcd/namespacemekong.html#a1a7b5b753d9609d140a933b933905a5e">mekong::createGlobalStringPtr</a>(M, StringRef(buffer));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  GlobalVariable *ptxAnalysIsWritten =</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keyword">new</span> GlobalVariable(M, builder.getInt8Ty(), <span class="keyword">false</span>, GlobalValue::PrivateLinkage, builder.getInt8(0),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                         <span class="stringliteral">&quot;ptxAnalysisWritten&quot;</span>, <span class="keyword">nullptr</span>, GlobalVariable::NotThreadLocal, 0);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// Call modified kernel</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// Get Kernel Calls and Kernels</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Kernel Descriptor:</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// - handle</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// - name</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  std::vector&lt;mekong::KernelDescriptor&gt; descs;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="../../d3/dcd/namespacemekong.html#acfd248f7438e5605c69d142f8bfa1e6d">mekong::getKernelDescriptors</a>(M, descs);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// For Kernel Call</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">//   Allocate memory for trace</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">//   Memset</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">//   Copy Ptr to global variable</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">//   Stream Sync</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">//   Copy Data Back</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">//   Write Log</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">//   Free Memory</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;desc : descs) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// Get Name of the Kernel</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    std::string kernelName = desc.name.str();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    std::string cloneName = kernelName + <span class="stringliteral">&quot;_clone&quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// Add Parameters of original Kernel and add the Array for the BB Counters</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    std::vector&lt;Type *&gt; cloneParamenter;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *type : desc.handle-&gt;getFunctionType()-&gt;params())</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      cloneParamenter.push_back(type);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    cloneParamenter.push_back(Type::getInt64PtrTy(ctx)); <span class="comment">// Pointer to Counters for Basic Blocks</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    cloneParamenter.push_back(Type::getInt64PtrTy(ctx)); <span class="comment">// Pointer to Counters for Basic Blocks</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    cloneParamenter.push_back(Type::getInt32Ty(ctx));    <span class="comment">// Number of Banks for the counters</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    cloneParamenter.push_back(Type::getInt32Ty(ctx));    <span class="comment">// Profiling Mode</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// Create Kernelclone wrapper</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    FunctionType *cloneType =</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        FunctionType::get(desc.handle-&gt;getFunctionType()-&gt;getReturnType(), cloneParamenter, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    Function *clonedKernelWrapper = <a class="code" href="../../d3/dcd/namespacemekong.html#aae5189d202110ef84f117c670e21a99d">mekong::createKernelWrapper</a>(M, cloneName, cloneType);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="../../d3/dcd/namespacemekong.html#a6708fc3d22a5b474f244577439f3ba13">mekong::registerKernel</a>(M, cloneName, clonedKernelWrapper);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    std::vector&lt;CallBase *&gt; launchSites;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="../../d3/dcd/namespacemekong.html#a3828496880960202cdb6218dbba7acc1">mekong::getKernelLaunchSites</a>(desc.handle, launchSites);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    printf(<span class="stringliteral">&quot;passed before launches loop\n&quot;</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *launch : launchSites) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      CallBase *confCall = <a class="code" href="../../d3/dcd/namespacemekong.html#af67b4e2092df28422232475f7b5b7b2a">mekong::getKernelConfigCall</a>(M, launch);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      builder.SetInsertPoint(confCall);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="comment">// Allocate memory for BB Counters</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      int64_t blockCount = 100;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keyword">auto</span> result = kernelBlockMap.find(kernelName);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">if</span> (result != kernelBlockMap.end()) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        blockCount = result-&gt;second;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        errs() &lt;&lt; <span class="stringliteral">&quot;CUDA Flux: Found BasicBlockCount for kernel &quot;</span> &lt;&lt; kernelName &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; blockCount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        errs() &lt;&lt; <span class="stringliteral">&quot;CUDA Flux: BasicBlockCount for kernel &quot;</span> &lt;&lt; kernelName &lt;&lt; <span class="stringliteral">&quot;not found!\n&quot;</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="comment">// Set Number of Banks to 64, using the number of SMs would probably be</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="comment">// better Optimize later</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      int32_t <a class="code" href="../../da/de5/hostRuntime_8cpp.html#a028a3358c3f2275c1688e1cea9318d5a">n_banks</a> = 64;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      Value *blockCountVal = builder.getInt64(blockCount * <a class="code" href="../../da/de5/hostRuntime_8cpp.html#a028a3358c3f2275c1688e1cea9318d5a">n_banks</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="comment">// Insert function call to create the memory needed for the basic block</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="comment">// counters</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      Function *createBBCounterMemoryFu = M.getFunction(<span class="stringliteral">&quot;createBBCounterMemory&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      Value *devPtr = builder.CreateCall(createBBCounterMemoryFu, {blockCountVal});</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      Value *n_banks_val = builder.getInt32(<a class="code" href="../../da/de5/hostRuntime_8cpp.html#a028a3358c3f2275c1688e1cea9318d5a">n_banks</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">// Allocation of the new counter</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      Function *createBBCounterMemory1Fu = M.getFunction(<span class="stringliteral">&quot;createBBCounterMemory1&quot;</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      Value *tracPtr = builder.CreateCall(createBBCounterMemory1Fu, {blockCountVal});</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      printf(<span class="stringliteral">&quot;Passed flux trac pointer creation\n&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="comment">// Insert function call to get the profiling Mode</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      Function *getProfilingModeFu = M.getFunction(<span class="stringliteral">&quot;getProfilingMode&quot;</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      Value *profilingMode = builder.CreateCall(getProfilingModeFu);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">// Insert function call to start time measurement</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      Function *startClockFu = M.getFunction(<span class="stringliteral">&quot;startClock&quot;</span>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      Value *timeval = builder.CreateCall(startClockFu);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="comment">// Prepare remaining arguments for the cloned kernel</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      std::vector&lt;Value *&gt; additionalArgs;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      additionalArgs.push_back(devPtr);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">// Passing our new counter</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      additionalArgs.push_back(tracPtr);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// printf(&quot;passed addition of tracPtr to addArgs\n&quot;);</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="comment">// Let the kernel know how many banks are used</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      additionalArgs.push_back(n_banks_val);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="comment">// Let the kernel know which profiling mode is used</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      additionalArgs.push_back(profilingMode);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      printf(<span class="stringliteral">&quot;passed addition of tracPtr to addArgs\n&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      CallBase *cloneLaunchCall = <a class="code" href="../../d3/dcd/namespacemekong.html#a01e8a712eb01b37eaec66af5858a43d3">mekong::replaceKernelLaunch</a>(M, launch, clonedKernelWrapper, additionalArgs);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      printf(<span class="stringliteral">&quot;Passed cloneLaunchCall\n&quot;</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="comment">// Make sure to insert after the launch call</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      builder.SetInsertPoint(cloneLaunchCall-&gt;getNextNode());</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// Synchronize and Serialize BB Counters</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="comment">// ( syncStream, copy to host, write to file)</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      Function *serializeCountersFu = M.getFunction(<span class="stringliteral">&quot;serializeBBCounter&quot;</span>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      Value *kernelStringPtr = builder.CreateGlobalStringPtr(kernelName.c_str());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// Use 6th Arg of the clone kernel wrapper, which is the stream</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// wrapper( i64 gridXY, i32 gridZ, i64 blockXY, i32 blockZ, int64 shmsize,</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="comment">// cudaStream_t stream, ... )</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      builder.CreateCall(serializeCountersFu,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                         {devPtr, tracPtr, blockCountVal, n_banks_val, kernelStringPtr,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                          cloneLaunchCall-&gt;getArgOperandUse(0), cloneLaunchCall-&gt;getArgOperandUse(1),</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                          cloneLaunchCall-&gt;getArgOperandUse(2), cloneLaunchCall-&gt;getArgOperandUse(3),</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                          cloneLaunchCall-&gt;getArgOperandUse(4), cloneLaunchCall-&gt;getArgOperandUse(5), timeval});</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      printf(<span class="stringliteral">&quot;Call creation serializeCountersFu with tracPtr\n&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="comment">// Serializing PTX Analysis</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      Function *writePTX_Analysis = M.getFunction(<span class="stringliteral">&quot;mekong_WritePTXBlockAnalysis&quot;</span>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      builder.CreateCall(writePTX_Analysis, {ptxAnalysIsWritten, analysisStr});</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da0/structFluxHostPass_aca382bcf6a274d6a7c08ea5dffb17d1b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad38dde0baa302788da3cca63cb209cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38dde0baa302788da3cca63cb209cc0">&#9670;&nbsp;</a></span>ID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char FluxHostPass::ID = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../HTML/S/20.html#L32">32</a> of file <a class="el" href="../../HTML/S/20.html">cudaFluxPasses.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>PPT-GPU/llvm_tool/inc/<a class="el" href="../../HTML/S/20.html">cudaFluxPasses.h</a></li>
<li>PPT-GPU/llvm_tool/lib/<a class="el" href="../../HTML/S/24.html">fluxHostPass.cpp</a></li>
<li>PPT-GPU/llvm_tool/lib/<a class="el" href="../../HTML/S/27.html">registerPasses.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="anamespacemekong_html_acfd248f7438e5605c69d142f8bfa1e6d"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#acfd248f7438e5605c69d142f8bfa1e6d">mekong::getKernelDescriptors</a></div><div class="ttdeci">void getKernelDescriptors(llvm::Module &amp;m, std::vector&lt; KernelDescriptor &gt; &amp;desc)</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/6.html#L76">HostUtils.cpp:76</a></div></div>
<div class="ttc" id="anamespacemekong_html_a1a7b5b753d9609d140a933b933905a5e"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#a1a7b5b753d9609d140a933b933905a5e">mekong::createGlobalStringPtr</a></div><div class="ttdeci">llvm::Constant * createGlobalStringPtr(llvm::Module &amp;M, llvm::StringRef Str, const llvm::Twine &amp;Name=&quot;&quot;, unsigned AddressSpace=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/5.html#L106">IRUtils.cpp:106</a></div></div>
<div class="ttc" id="ahostRuntime_8h_html_a7a4d19fc3fc17e12d79c0075feb4f1df"><div class="ttname"><a href="../../dd/dda/hostRuntime_8h.html#a7a4d19fc3fc17e12d79c0075feb4f1df">hostRuntime_ll_len</a></div><div class="ttdeci">unsigned int hostRuntime_ll_len</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/19.html#L50182">hostRuntime.h:50182</a></div></div>
<div class="ttc" id="anamespacemekong_html_a3828496880960202cdb6218dbba7acc1"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#a3828496880960202cdb6218dbba7acc1">mekong::getKernelLaunchSites</a></div><div class="ttdeci">void getKernelLaunchSites(llvm::Function *klFun, std::vector&lt; llvm::CallBase * &gt; &amp;callSites)</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/6.html#L108">HostUtils.cpp:108</a></div></div>
<div class="ttc" id="astructFluxHostPass_html_ad38dde0baa302788da3cca63cb209cc0"><div class="ttname"><a href="../../d2/da0/structFluxHostPass.html#ad38dde0baa302788da3cca63cb209cc0">FluxHostPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/20.html#L32">cudaFluxPasses.h:32</a></div></div>
<div class="ttc" id="anamespacemekong_html_afa5bc629abb1ec6f490e28d93480e67b"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#afa5bc629abb1ec6f490e28d93480e67b">mekong::linkIR</a></div><div class="ttdeci">void linkIR(llvm::StringRef ir, llvm::Module &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/5.html#L117">IRUtils.cpp:117</a></div></div>
<div class="ttc" id="anamespacemekong_html_a4d2a109ee246b5b72d6f02bd022443d0"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#a4d2a109ee246b5b72d6f02bd022443d0">mekong::getModulePrefix</a></div><div class="ttdeci">std::string getModulePrefix(llvm::Module *m)</div><div class="ttdoc">===---------------------------------------------------------------â€”===// Utility Functions ===-------...</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/5.html#L18">IRUtils.cpp:18</a></div></div>
<div class="ttc" id="aprocess__args_8c_html_ae32f25e0cc989902aa289324c41f078c"><div class="ttname"><a href="../../d1/d9d/process__args_8c.html#ae32f25e0cc989902aa289324c41f078c">lines</a></div><div class="ttdeci">long lines</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/7133.html#L12">process_args.c:12</a></div></div>
<div class="ttc" id="anamespacemekong_html_af67b4e2092df28422232475f7b5b7b2a"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#af67b4e2092df28422232475f7b5b7b2a">mekong::getKernelConfigCall</a></div><div class="ttdeci">llvm::CallBase * getKernelConfigCall(llvm::Module &amp;m, llvm::CallBase *kernelLaunchSite)</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/6.html#L135">HostUtils.cpp:135</a></div></div>
<div class="ttc" id="ahostRuntime_8cpp_html_a028a3358c3f2275c1688e1cea9318d5a"><div class="ttname"><a href="../../da/de5/hostRuntime_8cpp.html#a028a3358c3f2275c1688e1cea9318d5a">n_banks</a></div><div class="ttdeci">void uint64_t size_t uint32_t n_banks</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/25.html#L93">hostRuntime.cpp:93</a></div></div>
<div class="ttc" id="anamespacemekong_html_a01e8a712eb01b37eaec66af5858a43d3"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#a01e8a712eb01b37eaec66af5858a43d3">mekong::replaceKernelLaunch</a></div><div class="ttdeci">llvm::CallBase * replaceKernelLaunch(llvm::Module &amp;m, llvm::CallBase *kernelLaunchSite, llvm::Function *replacementWrapper, std::vector&lt; llvm::Value * &gt; &amp;additionalArguments)</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/6.html#L373">HostUtils.cpp:373</a></div></div>
<div class="ttc" id="ahostRuntime_8h_html_a10ebe23f59e1e57e28be270b493825f9"><div class="ttname"><a href="../../dd/dda/hostRuntime_8h.html#a10ebe23f59e1e57e28be270b493825f9">hostRuntime_ll</a></div><div class="ttdeci">unsigned char hostRuntime_ll[]</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/19.html#L1">hostRuntime.h:1</a></div></div>
<div class="ttc" id="anamespacemekong_html_aae5189d202110ef84f117c670e21a99d"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#aae5189d202110ef84f117c670e21a99d">mekong::createKernelWrapper</a></div><div class="ttdeci">llvm::Function * createKernelWrapper(llvm::Module &amp;m, const std::string name, llvm::FunctionType *ft)</div></div>
<div class="ttc" id="anamespacemekong_html_a6708fc3d22a5b474f244577439f3ba13"><div class="ttname"><a href="../../d3/dcd/namespacemekong.html#a6708fc3d22a5b474f244577439f3ba13">mekong::registerKernel</a></div><div class="ttdeci">void registerKernel(llvm::Module &amp;m, const std::string name, llvm::Function *kernelWrapper)</div><div class="ttdoc">===---------------------------------------------------------------â€”===// Transformation Functions ===...</div><div class="ttdef"><b>Definition:</b> <a href="../../HTML/S/6.html#L212">HostUtils.cpp:212</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 11 2022 13:38:11 for NMSU | Pearl Lab | PPT-GPU by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
